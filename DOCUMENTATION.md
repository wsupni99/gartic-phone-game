## Задание по семестровой №2: Gartic Phone

**Цель:** Реализовать сетевую игру для 2+ игроков на Java (JavaFX + сокеты). Client-Server-Client архитектура. Собственный протокол с 4+ типами сообщений. GUI с рисованием (Graphics) и чатом. Многопоточность для сети/интерфейса.

**Репозиторий преподавателя:** В 11_402 есть примеры сокетов (Сокеты1/2 записи). Бери структуру Client/Server оттуда.

**Требования к коду (строго):**

- Только чистые сокеты + JavaFX (без Spring/Netty).
- Минимум комментариев.
- Каждый в группе знает весь код.
- Протокол: JSON/байты с типами сообщений (минимум 4 видимых игроку).
- Рисование: Canvas с Graphics2D для рисовалки.
- Многопоточность: ExecutorService для сетевых задач.


## Режимы игры

### 1. "Угадай что рисую" (2+ игрока)

- Сервер: Создаёт комнату (порт 8080).
- Клиенты: Подключаются по IP:порт.
- Админ (хост) рисует на Canvas (линия, цвет, стирание).
- Остальные: Чат для загаданного слова + поле ввода.
- Детект: Сервер сравнивает текст с загадкой (простой match).
- Видимые сообщения:

1. `DRAW` - координаты мазка (x,y,цвет).
2. `GUESS` - текст догадки.
3. `CORRECT` - "Угадал! Слово: ...".
4. `CHAT` - обычные сообщения.


### 2. "Глухой телефон" (4+ игрока)

- Админ создаёт комнату, все жмут "Готов".
- Админ жмёт "Старт" + таймер раунда (30-60с).
- Раунды:

1. Все пишут предложение (текст → сервер).
2. Сдвиг: Каждый получает текст предыдущего → рисует.
3. Сдвиг: Каждый получает рисунок следующего → описывает текстом.
4. Повтор до круга.
- Финал: Сервер шлёт последовательность (текст1 → рис1 → текст2 → рис2...).
- Видимые сообщения:

1. `TEXT_SUBMIT` - отправка текста/описания.
2. `DRAW_UPDATE` - мазки для рисовалки.
3. `NEXT_ROUND` - "Получили: [текст/картинка]".
4. `FINAL_CHAIN` - вся цепочка.

## Архитектура (Client/Server) — JavaFX

Server:
- ServerSocket (8080)
- HashMap<Socket, Player> (игроки)
- ExecutorService для обработки клиентов
- GameState (roomId, режим, раунд, таймер)

Client:
- Socket → ObjectOutputStream/InputStream
- JavaFX Stage/Scene
- Canvas (javafx.scene.canvas.Canvas) + GraphicsContext для рисования
- VBox/HBox/BorderPane для раскладки
- TextArea (чат), TextField (ввод), Button (Готов/Старт/Отправить), Label (таймер/статус)
- Отдельный поток для сети + Platform.runLater(...) для обновления UI

Протокол (JSON пример):
{ "type": "DRAW", "data": {x:10,y:20,color:"red",size:2} }
{ "type": "GUESS", "data": "кот" }


## GUI и рисование (3 балла) — JavaFX

- Компоненты: Button (Готов/Старт/Очистить), TextField (ввод), TextArea (чат/цепочка), ComboBox<String> (цвета), Label (таймер/статус).
- Рисование: Canvas, обработчики setOnMousePressed / setOnMouseDragged → GraphicsContext.strokeLine(...). Сохранять strokes как List<StrokeDto> (последовательность точек) для отправки/рендера.
- Адаптивность: BorderPane/ VBox / HBox, привязки по ширине/высоте (bind), использование Scene и resizeable Stage; обновление Canvas через перерисовку по данным с сервера в Platform.runLater.


**Дедлайн:** Прототип к 20.12, финал к 25.12. Запуск: java -jar server.jar; java -jar client.jar IP.**

